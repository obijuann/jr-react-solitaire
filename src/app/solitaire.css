#play-area {
  --border-radius: 12px;
  display: grid;
  grid-template-rows: var(--card-height) 1fr;
  grid-gap: 30px;
  height: calc(100vh - 20px);
  justify-content: space-between;
  margin: 10px auto;
}

#foundation,
#stock,
#tableau {
  display: flex;
}

#foundation {
  grid-column: 4/8;
  justify-content: space-between;
}

/* Slight blur when a submenu is open: blur all direct children except the menu
   so the menu and submenu remain crisp and interactive. Also disable pointer
   events on the blurred content so taps first close the submenu. */
#play-area.submenu-open > :not(#menu) {
  filter: blur(3px);
  pointer-events: none;
}

#stock {
  grid-column: 1/1;
}

#waste {
  grid-column: 2/3;
}

#waste.anim>div {
  transition: transform .5s;
}

#waste.offset-two>div:nth-last-child(1) {
  transform: translatex(min(6vw, 120px));
}

#waste.offset-one>div:nth-last-child(1),
#waste.offset-two>div:nth-last-child(2) {
  transform: translatex(min(3vw, 80px));
}

#tableau {
  grid-column: 1/8;
  grid-row: 2;
  height: fit-content;
  justify-content: space-between;
  width: 100%;
}

.card-pile {
  border: 1px solid black;
  border-radius: var(--border-radius);
  box-shadow: inset 1px 1px 1px 0 rgba(255, 255, 255, 0.5), inset -1px -1px 1px 0 rgba(0, 0, 0, 0.5);
  height: var(--card-height);
  position: relative;
  width: var(--card-width);
}

@media (min-width: 890px) {
  #play-area {
    --card-height: 150px;
    --card-width: 100px;
    max-width: 900px;
    width: 80%;
  }
}

@media (max-width: 889px) {
  #play-area {
    --card-height: 75px;
    --card-width: 50px;
    --border-radius: 6px;
    max-width: 500px;
    width: 95%;
  }
}